<template>
    <template lwc:if={showStartPage}>
        <lightning-quick-action-panel header="Clone Case" class="slds-is-relative">
            <template lwc:if={isLoading}>
                <lightning-spinner alternative-text="Processing" size="medium"></lightning-spinner>
            </template>
            <template if:false={showCustomerMember}>
                <lightning-record-picker
                    label="Select an Asset"
                    placeholder="Search..."
                    object-api-name="Asset"
                    onchange={handleChange} 
                    filter={filter}
                    matching-info={matchingInfo}
                    display-info={displayInfo}
                    class="assetPicker"
                ></lightning-record-picker>
            </template>
            <template if:true={showCustomerMember}>
                <lightning-record-picker
                    label="Select a Customer Member"
                    placeholder="Search..."
                    object-api-name="Customer_Member_Mapping__c"
                    onchange={handleCMChange} 
                    filter={filterCm}
                    matching-info={matchingInfoCm}
                    display-info={displayInfoCm}
                    class="cmPicker"
                ></lightning-record-picker>
            </template>
            <br/> <br/> Please press Confirm to clone this Case

            <br/><br/>
            <footer class="slds-modal__footer">
                <lightning-button variant="neutral" label="Cancel" onclick={closeAction}></lightning-button>
                <lightning-button variant="brand" label="Confirm" class="slds-m-left_x-small"
                onclick={proceedCloning}></lightning-button>
            </footer>
        </lightning-quick-action-panel>
    </template> 
    
</template>
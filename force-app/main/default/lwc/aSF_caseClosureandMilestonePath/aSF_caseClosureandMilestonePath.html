<template>
    <lightning-card>
        <div class="c-container">
            <lightning-layout multiple-rows="true">
                <lightning-layout-item class="center-text"> <!--padding="around-small" -->
                    <div class="header-column">
                        <strong>
                            <p class="field-title slds-text-body_small" title="Case Closure SLA">Case Closure SLA &nbsp;<br/>
                                <!-- <lightning-icon icon-name="standard:today" size="xx-small" title="Timer"></lightning-icon> -->
                            </p>
                        </strong> <br/> <strong>
                            <template if:true={showTimer}>
                                <p>{timer}</p>
                            </template>
                            <template lwc:if={caseObj}>
                                <strong>
                                    <p>
                                        <lightning-formatted-date-time value={caseObj.Overall_Case_Closure_SLA__c}
                                            year="numeric"
                                            month="2-digit"
                                            day="2-digit"
                                            hour="2-digit"
                                            minute="2-digit"
                                            time-zone="IST"
                                            class={overallStyle}>
                                        </lightning-formatted-date-time>
                                    </p>
                                </strong>
                            </template>
                            
                        </strong>
                    </div>
                </lightning-layout-item>
                <lightning-layout-item class="center-text"><!--padding="around-small" -->
                    <div class="header-column">
                        <div class="slds-text-heading_medium">
                            <strong>
                                <p class="field-title" title="Case No" style="text-align:center">Case Turn Around Time <br/><span>(TAT)</span>
                                    <!-- <lightning-icon icon-name="standard:case" size="xx-small" title="Timer"></lightning-icon> -->
                                </p>
                            </strong>
                        </div> <strong>
                            <p class="slds-text-body_small">{overallTAT}</p>    
                        </strong>
                    </div>
                </lightning-layout-item>

                <lightning-layout-item class="center-text"><!--padding="around-small" -->
                    <div class="header-column">
                        <strong>
                            <p class="field-title slds-text-body_small" title="Stage Case SLA">Stage 3 Case SLA &nbsp;
                                <!-- <lightning-icon icon-name="standard:stage" size="xx-small" title="Timer"></lightning-icon> -->
                            </p>
                        </strong><br/> <strong>
                            <template if:true={showTimer}>
                                <p>{timer}</p>
                            </template>
                            <template lwc:if={caseObj}>
                                        <lightning-formatted-date-time value={caseObj.Stage_SLA_3__c}
                                            year="numeric"
                                            month="2-digit"
                                            day="2-digit"
                                            hour="2-digit"
                                            minute="2-digit"
                                            time-zone="IST"
                                            class={sla3Style}>
                                        </lightning-formatted-date-time>
                            </template>
                        </strong>
                    </div>
                </lightning-layout-item>
                <lightning-layout-item class="center-text"><!--padding="around-small" -->
                    <div class="header-column">
                        <div class="slds-text-heading_medium">
                            <strong>
                                <p class="field-title" title="Case No" style="text-align:center">Stage 3 Turn Around Time<br/><span>(TAT)</span>
                                    <!-- <lightning-icon icon-name="standard:case" size="xx-small" title="Timer"></lightning-icon> -->
                                </p>
                            </strong>
                        </div> <strong>
                            <p class="slds-text-body_small">{sla3TAT}</p>
                             </strong>
                    </div>
                </lightning-layout-item>

                <!--VIRENDRA  : Moved the Expand Collapse at the top.-->
                <lightning-layout-item padding="around-small" size="2" alignment-bump="right">
                    <lightning-button-icon icon-name={iconName}  alternative-text="expand" class="slds-m-left_xx-small" title="expand" onclick={openAllPanels} style="float:inline-end;padding-inline-end:1rem"></lightning-button-icon>
                    <!--<lightning-icon icon-name={iconName} alternative-text="expand"
                        title="xx-small size" onclick={openAllPanels}></lightning-icon>-->
                    <!--<a role="button" data-toggle="collapse" aria-expanded="true" aria-controls="collapseOne"
                        onclick={openAllPanels}>
                        {expandCollapseLbl}
                    </a>-->
                </lightning-layout-item>



                <!-- VIRENDRA -->
                <template if:true={showAdditionalSLA}>

                    <lightning-layout-item  class="center-text slds-p-vertical_medium"><!--padding="around-small" -->
                        <div class="header-column">
                            <strong>
                                <p class="field-title" title="Case Closure SLA">Stage 1 Case SLA &nbsp;
                                    <!-- <lightning-icon icon-name="standard:today" size="xx-small" title="Timer"></lightning-icon> -->
                                </p>
                            </strong><strong>
                                <template if:true={showTimer}>
                                    <p>{timer}</p>
                                </template>
                                <lightning-formatted-date-time value={caseObj.Stage_SLA_1__c}
                                            year="numeric"
                                            month="2-digit"
                                            day="2-digit"
                                            hour="2-digit"
                                            minute="2-digit"
                                            time-zone="IST"
                                            class={sla1Style}>
                                        </lightning-formatted-date-time>
                            </strong>
                        </div>
                    </lightning-layout-item>
                    

                    <lightning-layout-item class="center-text slds-p-vertical_medium"><!--padding="around-small" -->
                        <div class="header-column">
                            <strong>
                                <p class="field-title" title="Stage Case SLA">Stage 2 Case SLA &nbsp;
                                    <!-- <lightning-icon icon-name="standard:stage" size="xx-small" title="Timer"></lightning-icon> -->
                                </p>
                            </strong> <strong>
                                <template if:true={showTimer}>
                                    {slaTimer} 
                                </template>
                                <lightning-formatted-date-time value={caseObj.Stage_SLA_2__c}
                                            year="numeric"
                                            month="2-digit"
                                            day="2-digit"
                                            hour="2-digit"
                                            minute="2-digit"
                                            time-zone="IST"
                                            class={sla2Style}>
                                        </lightning-formatted-date-time>
                                </strong>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item padding="around-small">
                        
                    </lightning-layout-item>

                </template>

            </lightning-layout>

            <!-- VIRENDRA - ADDED FOR EXPANDED AND COLLAPSE SLA.-->
            <!--<lightning-layout multiple-rows="true">
                <lightning-layout-item padding="around-small" size="10" alignment-bump="right">

                </lightning-layout-item>
                <lightning-layout-item padding="around-small" size="2" alignment-bump="right">
                    <a role="button" data-toggle="collapse" aria-expanded="true" aria-controls="collapseOne"
                        onclick={openAllPanels}>
                        {expandCollapseLbl}
                    </a>
                </lightning-layout-item>

            </lightning-layout>-->
        </div>
    </lightning-card>
</template>
<!--
@description       : 
@author            : rsinghnagar@salesforce.com
@group             : 
@last modified on  : 03-14-2024
@last modified by  : rsinghnagar@salesforce.com
Modifications Log
* Ver      Date           Author                     		Modification
* 1.0      01-01-2024     rsinghnagar@salesforce.com     	Initial Version
* 2.0      28-02-2024     udit.singhal@salesforce.com     updated logic for the real time API
-->
<template>
	<template if:true={isLoading}>
		<section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
			class="slds-modal slds-fade-in-open slds-modal_large bring-to-front">
			<lightning-spinner variant="brand" alternative-text="Loading" size="large"></lightning-spinner>
		</section>
		<div class="slds-backdrop" role="presentation"></div>
	</template>

	<template lwc:if={show}>
		<lightning-accordion allow-multiple-sections-open active-section-name={firstSection}>
			<template for:each={screenjson} for:item="section">
				<div key={section.label} class="c-container">
					<lightning-accordion-section name={section.label} label={section.label}>
						<lightning-button slot="actions" alternative-text="Refresh" icon-size="x-small" onclick={handleMenuSelect}
							icon-name="utility:refresh" variant="base"
							class="slds-float_right mcrmButton"></lightning-button>
						<lightning-layout multiple-rows size="12">
							<template for:each={section.fields} for:item="field">
								<lightning-layout-item padding="around-small" size="2" key={field.label}>
									{field.label}
								</lightning-layout-item>
								<lightning-layout-item padding="around-small" size="4" key={field.value}>
									: {field.value}
								</lightning-layout-item>
							</template>
						</lightning-layout>

						<template for:each={section.lTables} for:item="table">
							<template if:true={table.isRenderDatatable}>

								<c-mcrm_-data-table-with-pagination columns={table.label} table-data={table.value}
									page-size={table.pageSize} pagination-enabled={section.showpagination}
									key={table.label}>
								</c-mcrm_-data-table-with-pagination>

							</template>
						</template>

					</lightning-accordion-section>
				</div>
			</template>
		</lightning-accordion>
	</template>

</template>